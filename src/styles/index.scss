$gutter: 12px;
$transition-time: 250ms;
$bg-color: rgb(8, 15, 29);
$primary-color: rgb(84, 204, 219);
$secondary-color: rgb(138, 255, 206);
$secondary-color-lighter: rgba(138, 255, 206, 0.5);

@mixin glow-text-1 {
    text-shadow: 0px 0px 2px white;
}

@mixin glow-text-2 {
    text-shadow: 0px 0px 5px white;
}
/* offset-x | offset-y | blur-radius | spread-radius | color */
@mixin glow-box-1 {
    box-shadow: 0px 0px 1px 1px rgba(255, 255, 255, 0.5);
}

@mixin glow-box-2 {
    box-shadow: 0px 0px 5px 5px white;
}

*, *:after, *:before {
    box-sizing: border-box;
}

html {
    font-size: 16px;
    font-family: "Futura", Arial, Helvetica, sans-serif;
    color: white;
    background-color: $bg-color;
    margin: 0;
}

body {
    margin: 0;
}

.app {
    width: 100vw;
    height: 100vh;
    display : flex;
    flex-direction: column;
    justify-content: center;
}

.app-header {
    justify-self: flex-start;
    padding: $gutter $gutter 0 $gutter;
    margin-bottom: $gutter;
    margin: $gutter;
    display: flex;
    background: $bg-color;
    flex-wrap: nowrap;
    align-content: center;
    align-items: center;
    justify-content: space-between;
    position: relative;

    hr {
        background-color: $secondary-color;
        position: absolute;
        height: 1px;
        margin: 0;
        right: 0;
        border : 0;
        @include glow-box-1;

        &:nth-child(2) {
            bottom: 0;
            left: 0;
            right: 1rem;
        }

        &:nth-child(3) {
            bottom: 0.5rem;
            left: 0.5rem;
            right: 0.5rem;
        }

        &:nth-child(4) {
            bottom: 1rem;
            left: 1rem;
            right: 0;
        }
    }

    .title-box {
        transform: translate(2rem, 1rem) skewX(-45deg);
        border: 2px solid $secondary-color;
        background-color: $bg-color;
        position: relative;
        z-index: 3;

        h1 {
            user-select: none;
            transform: skewX(45deg);
            font-size: 2.5rem;
            line-height: 2.5rem;
            margin: 0;
            padding: 0.4rem 2rem;
            color: $secondary-color;
            font-style: italic;
            animation-direction: alternate;
            animation-name: logo-anim;
            animation-duration: 2s;
            animation-iteration-count: infinite;
            animation-timing-function: cubic-bezier(0.39, 0.575, 0.565, 1);
            /* @include glow-text-1; */
            /* filter: contrast(5); */
        }
    }

    .menu {
        margin-right: 2rem;
        padding: 0.4rem 1rem;
        background-color: $bg-color;
        border-radius: 2px;
        border: 1px solid $secondary-color;
        position: relative;
        z-index: 3;
        display: flex;
        top: 1rem;
        transform: skewX(-45deg);
        a  {
            font-size: 1rem;
            line-height: 1rem;
            font-weight: bold;
            transform: skewX(45deg);
            color: $secondary-color;
            font-style: italic;
            text-decoration: none;
            color: darkcyan;
            transition: all $transition-time ease-in-out;
            user-select: none;
            @include glow-text-1;
            filter: brightness(0.8);

            &:active {
                color: $secondary-color;
                filter: blur(3px);
                mix-blend-mode: hard-light;
                @include glow-text-2;
            }

            &:visited {
                color: $secondary-color;
            }
        }
    }
}

.main {
    flex-grow: 2;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
    padding: 5rem 0;

    .tracks {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: $gutter 0;

        .track {
            display: block;
            margin: 0.5rem;
            overflow: hidden;
            border: 1px solid $primary-color;
            position: relative;
            overflow: visible;

            &.expand {
                animation-direction: alternate-reverse;
                animation-name: glow-pulse;
                animation-duration: 1s;
                animation-iteration-count: infinite;
                animation-timing-function: linear;
            }


            .stem {
                position: relative;
                font-size: 7rem;
                border: 0;
                color: white;
                background-color: $bg-color;
                overflow: visible;
                &:focus {
                    @include glow-box-2;
                }
                &:active {
                    @include glow-box-2;
                }
                .stem-expanded {
                    position: absolute;
                    transform: translateY(-80%) scale(0.2);
                    color: white;
                    font-size: 7rem;
                    &:last-child {
                        transform: translateY(80%) scale(0.2);
                    }
                }
            }
        }
    }

    .randomize {
        width: 90px;
        height: 90px;
        background: $bg-color;
        border: 3px solid $secondary-color;
        position: relative;
        border-radius: 100%;
        &:after {
            content: "";
            position: absolute;
            top: 3px;
            left: 3px;
            width: calc(100% - 6px);
            height: calc(100% - 6px);
            border-radius: 100%;
            background-color: $secondary-color;
        }
    }
}

@keyframes logo-anim {
    0% {
        filter: blur(0px) contrast(5);
    }
    100% {
        filter: blur(0.5px) contrast(5);
    }
}

@keyframes glow-pulse {
    0% {
         box-shadow: 0 0 2px 2px $secondary-color-lighter;
    }
    100% {
         box-shadow: 0 0 5px 5px $secondary-color-lighter;
    }
}
